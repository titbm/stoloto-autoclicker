# Domain Layer - Доменный слой

Это ядро приложения с бизнес-логикой. Не зависит от внешних технологий (DOM, Chrome API, UI).

## Классы и их типы в DDD

### Entity (Сущность)

**Ticket.js** - Сущность "Билет"
- Имеет идентичность: `ticketId` (уникальный номер билета)
- Два билета с одинаковыми числами, но разными ID - это РАЗНЫЕ билеты
- Содержит бизнес-логику проверки чисел в билете

**Почему Entity?** Билет определяется своим номером, а не содержимым. Билет №123 и билет №456 - это разные билеты, даже если числа одинаковые.

---

### Value Object (Объект-значение)

**SearchCriteria.js** - Критерии поиска
- Не имеет идентичности, определяется только свойствами
- Два критерия с одинаковыми числами и режимом - это ОДНО И ТО ЖЕ
- Содержит: искомые числа, исключаемые числа, режим поиска, количество для покупки

**Почему Value Object?** Критерии [1,2,3] в режиме 'same_half' - это всегда одни и те же критерии, независимо от того, кто и когда их использует.

**UserData.js** - Данные пользователя
- Не имеет идентичности, это просто снимок данных с сайта
- Содержит: статус авторизации, баланс, цена билета
- Может проверить, хватит ли денег на покупку

**Почему Value Object?** Это просто набор данных в момент времени. Нет ID пользователя, нет истории. Если баланс изменился - это уже другой объект UserData.

---

## Принципы Clean Architecture

1. **Независимость от фреймворков** - код не зависит от Chrome API
2. **Тестируемость** - можно тестировать без браузера
3. **Независимость от UI** - логика не знает про popup или background
4. **Независимость от БД** - не знает про chrome.storage
5. **Независимость от внешних систем** - не знает про DOM сайта Столото

Domain слой - это чистая JavaScript логика, которая работает везде.
